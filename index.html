<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Eventify</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="path/to/your/favicon.png" />
    <!-- Font Awesome icons (free version)-->
    <script
      src="https://use.fontawesome.com/releases/v6.1.0/js/all.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      crossorigin="anonymous"
    />
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
  </head>

  <body id="page-top">
    <!-- Navigation-->
    <nav
      class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top"
      id="mainNav"
    >
      <div class="container">
        <a class="navbar-brand" href="#">Eventify</a>
        <button
          class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded" href="#portfolio"
                >Event</a
              >
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded" href="#about"
                >About</a
              >
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a class="nav-link py-3 px-0 px-lg-3 rounded" href="#contact"
                >Contact</a
              >
            </li>
            <li class="nav-item mx-0 mx-lg-1">
              <a href="login.html" class="nav-link"
                ><i
                  class="fa-solid fa-user-lock"
                  style="width: 35px; height: auto"
                ></i
              ></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead bg-primary text-white text-center">
      <div class="container d-flex align-items-center flex-column">
        <!-- Masthead Avatar Image-->
        <img class="masthead-avatar mb-5" src="img/logo.png" alt="..." />
        <!-- Masthead Heading-->
        <h1 class="masthead-heading text-uppercase mb-0">Eventify</h1>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
          <div class="divider-custom-line"></div>
        </div>
        <!-- Masthead Subheading-->
        <p class="masthead-subheading font-weight-light mb-0">
          Music - Art - Culture - Cullinary Event
        </p>
      </div>
    </header>
    <!-- Portfolio Section-->
    <section class="page-section portfolio" id="portfolio">
      <div class="container">
        <!-- Portfolio Section Heading-->
        <h2
          class="page-section-heading text-center text-uppercase text-secondary mb-0"
        >
          Event
        </h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
          <div the="divider-custom-line"></div>
        </div>
        <!-- Portfolio Grid Items-->
        <div class="row justify-content-center" id="eventsContainer">
          <!-- Dynamic content will be loaded here -->
        </div>
      </div>
    </section>
    <!-- About Section-->
    <section class="page-section bg-primary text-white mb-0" id="about">
      <div class="container">
        <!-- About Section Heading-->
        <h2 class="page-section-heading text-center text-uppercase text-white">
          About
        </h2>
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
          <div class="divider-custom-line"></div>
        </div>
        <!-- About Section Content-->
        <div class="row">
          <div class="col-lg-4 ms-auto">
            <p class="lead">
              Welcome to Eventify, your premier Event for discovering nearby
              festivals. Our platform offers comprehensive information on music,
              art, culture, and culinary festivals, ensuring you never miss out
              on the excitement.
            </p>
          </div>
          <div class="col-lg-4 me-auto">
            <p class="lead">
              Explore our site to plan your next adventure and Celebrate with us
              at Eventify—where the festivities never end!
            </p>
          </div>
        </div>
        <!-- About Section Button-->
      </div>
    </section>
    <!-- Contact Section-->
    <section class="page-section" id="contact">
      <div class="container">
        <!-- Contact Section Heading-->
        <h2
          class="page-section-heading text-center text-uppercase text-secondary mb-0"
        >
          Contact Me
        </h2>
        <!-- Icon Divider-->
        <div class="divider-custom">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
          <div class="divider-custom-line"></div>
        </div>
        <!-- Contact Section Form-->
        <div class="row justify-content-center">
          <div class="col-lg-8 col-xl-7">
            <!-- Contact form (Note: You need to replace the form action and API token to make it functional)-->
            <form id="contactForm">
              <!-- Name input-->
              <div class="form-floating mb-3">
                <input
                  class="form-control"
                  id="name"
                  name="name"
                  type="text"
                  placeholder="Enter your name..."
                />
                <label for="name">Full name</label>
              </div>
              <!-- Email address input-->
              <div class="form-floating mb-3">
                <input
                  class="form-control"
                  id="email"
                  name="email"
                  type="email"
                  placeholder="name@example.com"
                />
                <label for="email">Email address</label>
              </div>
              <!-- Phone number input-->
              <div class="form-floating mb-3">
                <input
                  class="form-control"
                  id="phone"
                  name="phone"
                  type="tel"
                  placeholder="(123) 456-7890"
                />
                <label for="phone">Phone number</label>
              </div>
              <!-- Message input-->
              <div class="form-floating mb-3">
                <textarea
                  class="form-control"
                  id="message"
                  name="message"
                  type="text"
                  placeholder="Enter your message here..."
                  style="height: 10rem"
                ></textarea>
                <label for="message">Message</label>
              </div>
              <!-- Submit Button-->
              <button
                class="btn btn-primary btn-xl"
                id="submitButton"
                type="submit"
              >
                Send
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>
    <!-- Footer-->
    <footer class="footer text-center">
      <div class="container">
        <div class="row">
          <!-- Footer Location-->
          <div class="col-lg-4 mb-5 mb-lg-0">
            <h4 class="text-uppercase mb-4">Location</h4>
            <p class="lead mb-0">
              15 Margonda Raya
              <br />
              Depok City, 65243
            </p>
          </div>
          <!-- Footer Social Icons-->
          <div class="col-lg-4 mb-5 mb-lg-0">
            <h4 class="text-uppercase mb-4">Around the Web</h4>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://www.facebook.com/"
              ><i class="fab fa-fw fa-facebook-f"></i
            ></a>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://twitter.com/"
              ><i class="fab fa-fw fa-twitter"></i
            ></a>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://www.linkedin.com/"
              ><i the="fab fa-fw fa-linkedin-in"></i
            ></a>
            <a
              class="btn btn-outline-light btn-social mx-1"
              href="https://dribbble.com/"
              ><i class="fab fa-fw fa-dribbble"></i
            ></a>
          </div>
          <!-- Footer About Text-->
          <div class="col-lg-4">
            <h4 class="text-uppercase mb-4">About Me</h4>
            <p class="lead mb-0">
              Eventify is a comprehensive platform for discovering nearby
              festivals, featuring music, art, culture, and culinary events to
              ensure you never miss out on the fun.
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Copyright Section-->
    <div class="copyright py-4 text-center text-white">
      <div class="container">
        <small>Copyright &copy; Group 14</small>
      </div>
    </div>

    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-database.js"></script>
    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyA0T7C32rZKp6fE1wl6HPQO-jMdDcOn2lI",
        authDomain: "project3-ccit-4se1.firebaseapp.com",
        databaseURL: "https://project3-ccit-4se1-default-rtdb.firebaseio.com",
        projectId: "project3-ccit-4se1",
        storageBucket: "project3-ccit-4se1.appspot.com",
        messagingSenderId: "1047457157480",
        appId: "1:1047457157480:web:baa725f32b7e7b660946dd",
        measurementId: "G-WWC820B746",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      let database = firebase.database();
      function fetchData() {
        const ref = firebase.database().ref("events");
        ref.on("value", function (snapshot) {
          const eventsContainer = document.getElementById("eventsContainer");
          eventsContainer.innerHTML = ""; // Clear existing contents

          snapshot.forEach(function (childSnapshot) {
            const event = childSnapshot.val();
            const eventElement = document.createElement("div");
            eventElement.className = "col-md-6 col-lg-4 mb-5";

            eventElement.innerHTML = `
                    <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal1-${childSnapshot.key}">
                        <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                            <div class="portfolio-item-caption-content text-center text-white">
                                <i class="fas fa-ellipsis-h fa-3x"></i>
                            </div>
                        </div>
                        <img class="img-fluid" style="height: 100%; max-height:500px; object-fit: cover; " src="${event.imageUrl}" alt="${event.name}" />
                    </div>
                `;
            eventsContainer.appendChild(eventElement);
            addModalForEvent(childSnapshot.key, event);
          });
        });
      }

      function addModalForEvent(key, event) {
        const modalContainer = document.createElement("div");
        modalContainer.innerHTML = `
            <div class="portfolio-modal modal fade" id="portfolioModal1-${key}" tabindex="-1" aria-labelledby="portfolioModal1-${key}" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header border-0">
                            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center pb-5">
                            <div class="container">
                                <div class="row justify-content-center">
                                    <div class="col">
                                        <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" style="font-size: 33px">${event.name}</h2>
                                        <div class="divider-custom">
                                            <div class="divider-custom-line"></div>
                                            <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                            <div class="divider-custom-line"></div>
                                        </div>
                                        <img class="img-fluid rounded" src="${event.imageUrl}" alt="${event.name}" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;
        document.body.appendChild(modalContainer); // Append to body
      }

      document.addEventListener("DOMContentLoaded", fetchData);
      document.addEventListener("DOMContentLoaded", function () {
        const contactForm = document.getElementById("contactForm");

        contactForm.addEventListener("submit", function (e) {
          e.preventDefault(); // Prevent the default form submission

          // Retrieve form data
          const formData = {
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
            phone: document.getElementById("phone").value,
            message: document.getElementById("message").value,
          };

          // Save the form data to Firebase
          firebase
            .database()
            .ref("contacts")
            .push()
            .set(formData)
            .then(function () {
              alert("Message sent successfully!");
              contactForm.reset(); // Reset the form after successful send
            })
            .catch(function (error) {
              alert("Failed to send message: " + error.message);
            });
        });
      });
    </script>
  </body>
</html>
